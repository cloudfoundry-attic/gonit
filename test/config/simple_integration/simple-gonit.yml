---
processes:
  balloonmem:
    description: Balloons memory.
    actions:
      alert:
        - memory_over_5
      restart:
        - memory_over_10
    pidfile: /Users/lisbakke/Documents/work/mygo/src/github.com/cloudfoundry/gonit/test/demo/balloonmem.pid
    start: /Users/lisbakke/Documents/work/mygo/src/github.com/cloudfoundry/gonit/test/demo/goprocess -s 48h -d /Users/lisbakke/Documents/work/mygo/src/github.com/cloudfoundry/gonit/test/demo -n balloonmem -p /Users/lisbakke/Documents/work/mygo/src/github.com/cloudfoundry/gonit/test/demo/balloonmem.pid -F -MB start
    stop: /Users/lisbakke/Documents/work/mygo/src/github.com/cloudfoundry/gonit/test/demo/goprocess -s 48h -d /Users/lisbakke/Documents/work/mygo/src/github.com/cloudfoundry/gonit/test/demo -n balloonmem -p /Users/lisbakke/Documents/work/mygo/src/github.com/cloudfoundry/gonit/test/demo/balloonmem.pid -F -MB stop
    restart: /Users/lisbakke/Documents/work/mygo/src/github.com/cloudfoundry/gonit/test/demo/goprocess -s 48h -d /Users/lisbakke/Documents/work/mygo/src/github.com/cloudfoundry/gonit/test/demo -n balloonmem -p /Users/lisbakke/Documents/work/mygo/src/github.com/cloudfoundry/gonit/test/demo/balloonmem.pid -F -MB restart
    user: vcap
events:
  memory_over_5:
    description: The memory for a process is too high.
    rule: memory_used > 1mb
    interval: 1s
    duration: 1s
  memory_over_10:
    description: The memory for a process is too high.
    rule: memory_used > 6mb
    interval: 1s
    duration: 1s
